import { store } from "./store"; // Import the configured store that includes your slice
import { orderInputSlice } from "./orderInputSlice";

describe("OrderInputSlice", () => {
  it(`setToken1 and setToken2 work`, () => {
    // Set token1
    store.dispatch(orderInputSlice.actions.setAmountToken1(12));
    // Assert the expected outcomes
    expect(store.getState().orderInput.token1.amount).toBe(12);
    expect(store.getState().orderInput.token2.amount).toBe(0);

    // TODO(dcts): add more tests for buy-sell-panel redesign
    // OUTCOMMENT FOR NOW AS NOT MERGED TO MAIN
    // expect(store.getState().orderInput.specifiedToken).toBe(
    //   SpecifiedToken.TOKEN_1
    // );

    // Set token2
    store.dispatch(orderInputSlice.actions.setAmountToken2(124));
    // Assert the expected outcomes
    expect(store.getState().orderInput.token1.amount).toBe(12);
    expect(store.getState().orderInput.token2.amount).toBe(124);

    // TODO(dcts): add more tests for buy-sell-panel redesign
    // OUTCOMMENT FOR NOW AS NOT MERGED TO MAIN
    // expect(store.getState().orderInput.specifiedToken).toBe(
    //   SpecifiedToken.TOKEN_2
    // );
  });
});
